<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Physics Equation Validator | φ-Discovery</title>
    <style>
        :root {
            --bg-primary: #0a192f;
            --bg-secondary: #112240;
            --bg-tertiary: #1a2744;
            --accent-primary: #FFD700;
            --accent-secondary: #4d96ff;
            --text-primary: #e6f1ff;
            --text-secondary: #8892b0;
            --text-dim: #495670;
            --border-color: rgba(255, 215, 0, 0.1);
            --transition: all 0.25s cubic-bezier(0.645, 0.045, 0.355, 1);
            --success-color: #64ffda;
            --error-color: #ff6b6b;
            --warning-color: #ffa500;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            font-family: "SF Mono", "Fira Code", "Consolas", monospace;
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        /* Header */
        .header {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: 20px;
            text-align: center;
        }
        
        .header h1 {
            color: var(--accent-primary);
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .header-subtitle {
            color: var(--text-secondary);
            font-size: 1rem;
        }
        
        .mode-indicator {
            display: inline-block;
            margin-top: 10px;
            padding: 5px 15px;
            background: var(--bg-tertiary);
            border: 1px solid var(--accent-primary);
            border-radius: 20px;
            color: var(--accent-primary);
            font-size: 0.85rem;
        }
        
        /* Category Section */
        .categories-section {
            padding: 30px;
            background: var(--bg-primary);
            border-bottom: 1px solid var(--border-color);
        }
        
        .section-title {
            color: var(--text-secondary);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 20px;
        }
        
        .category-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .category-btn {
            padding: 15px 20px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 0.95rem;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .category-btn:hover {
            background: var(--accent-primary);
            color: var(--bg-primary);
            border-color: var(--accent-primary);
            transform: translateY(-2px);
        }
        
        .category-btn.active {
            background: var(--accent-primary);
            color: var(--bg-primary);
            border-color: var(--accent-primary);
        }
        
        .category-icon {
            font-size: 1.5rem;
            margin-bottom: 5px;
            display: block;
        }
        
        /* Main Content */
        .main-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        /* Input Panel */
        .input-panel {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 30px;
            border: 1px solid var(--border-color);
        }
        
        .input-header {
            margin-bottom: 20px;
        }
        
        .input-title {
            color: var(--text-primary);
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        
        .category-indicator {
            color: var(--accent-primary);
            font-size: 0.9rem;
        }
        
        .equation-input {
            width: 100%;
            min-height: 120px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 15px;
            color: var(--text-primary);
            font-family: "Times New Roman", serif;
            font-size: 1.2rem;
            resize: vertical;
            transition: var(--transition);
        }
        
        .equation-input:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 2px rgba(255, 215, 0, 0.1);
        }
        
        .example-equations {
            margin-top: 20px;
        }
        
        .example-title {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        
        .example-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .example-btn {
            padding: 10px 15px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            color: var(--text-secondary);
            font-family: "Times New Roman", serif;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            text-align: left;
        }
        
        .example-btn:hover {
            border-color: var(--accent-secondary);
            color: var(--text-primary);
        }
        
        .validate-btn {
            width: 100%;
            padding: 15px;
            margin-top: 20px;
            background: var(--accent-primary);
            border: none;
            border-radius: 8px;
            color: var(--bg-primary);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .validate-btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .validate-btn:active {
            transform: translateY(0);
        }
        
        /* Results Panel */
        .results-panel {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 30px;
            border: 1px solid var(--border-color);
        }
        
        .results-header {
            margin-bottom: 20px;
        }
        
        .results-title {
            color: var(--text-primary);
            font-size: 1.2rem;
        }
        
        .validation-result {
            background: var(--bg-tertiary);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid var(--border-color);
        }
        
        .result-status {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .status-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .status-icon.valid {
            background: var(--success-color);
            color: var(--bg-primary);
        }
        
        .status-icon.invalid {
            background: var(--error-color);
            color: white;
        }
        
        .status-icon.warning {
            background: var(--warning-color);
            color: var(--bg-primary);
        }
        
        .status-text {
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .result-details {
            display: grid;
            gap: 10px;
        }
        
        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .detail-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .detail-value {
            color: var(--text-primary);
            font-weight: 500;
        }
        
        .explanation {
            margin-top: 20px;
            padding: 15px;
            background: var(--bg-primary);
            border-radius: 6px;
            border-left: 3px solid var(--accent-primary);
        }
        
        .explanation-title {
            color: var(--accent-primary);
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        
        .explanation-text {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.6;
        }
        
        /* History Section */
        .history-section {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
        }
        
        .history-item {
            padding: 10px;
            background: var(--bg-tertiary);
            border-radius: 6px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .history-item:hover {
            border: 1px solid var(--accent-secondary);
        }
        
        .history-equation {
            color: var(--text-primary);
            font-family: "Times New Roman", serif;
            margin-bottom: 5px;
        }
        
        .history-meta {
            color: var(--text-dim);
            font-size: 0.8rem;
        }
        
        /* Loading Animation */
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }
        
        .loading.active {
            display: block;
        }
        
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--bg-tertiary);
            border-top-color: var(--accent-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .main-container {
                grid-template-columns: 1fr;
            }
            
            .category-buttons {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>Physics Equation Validator</h1>
        <p class="header-subtitle">Validate equations across all physics domains</p>
        <span class="mode-indicator">Standalone Mode - No Claude Required</span>
    </header>
    
    <section class="categories-section">
        <h2 class="section-title">Select Physics Category</h2>
        <div class="category-buttons">
            <button class="category-btn active" data-category="mechanics" onclick="selectCategory('mechanics')">
                <span class="category-icon">⚙️</span>
                Mechanics
            </button>
            <button class="category-btn" data-category="electromagnetism" onclick="selectCategory('electromagnetism')">
                <span class="category-icon">⚡</span>
                Electromagnetism
            </button>
            <button class="category-btn" data-category="quantum" onclick="selectCategory('quantum')">
                <span class="category-icon">🌀</span>
                Quantum
            </button>
            <button class="category-btn" data-category="thermodynamics" onclick="selectCategory('thermodynamics')">
                <span class="category-icon">🔥</span>
                Thermodynamics
            </button>
            <button class="category-btn" data-category="relativity" onclick="selectCategory('relativity')">
                <span class="category-icon">🚀</span>
                Relativity
            </button>
            <button class="category-btn" data-category="optics" onclick="selectCategory('optics')">
                <span class="category-icon">💡</span>
                Optics
            </button>
            <button class="category-btn" data-category="waves" onclick="selectCategory('waves')">
                <span class="category-icon">〰️</span>
                Waves
            </button>
            <button class="category-btn" data-category="nuclear" onclick="selectCategory('nuclear')">
                <span class="category-icon">☢️</span>
                Nuclear
            </button>
        </div>
    </section>
    
    <main class="main-container">
        <div class="input-panel">
            <div class="input-header">
                <h2 class="input-title">Equation Input</h2>
                <p class="category-indicator" id="categoryIndicator">Category: Mechanics</p>
            </div>
            
            <textarea 
                class="equation-input" 
                id="equationInput"
                placeholder="Enter your physics equation here..."
            ></textarea>
            
            <div class="example-equations">
                <h3 class="example-title">Example Equations:</h3>
                <div class="example-list" id="exampleList">
                    <!-- Examples will be populated by JavaScript -->
                </div>
            </div>
            
            <button class="validate-btn" onclick="validateEquation()">
                Validate Equation
            </button>
        </div>
        
        <div class="results-panel">
            <div class="results-header">
                <h2 class="results-title">Validation Results</h2>
            </div>
            
            <div class="loading" id="loading">
                <div class="loading-spinner"></div>
                <p>Validating equation...</p>
            </div>
            
            <div id="resultsContainer">
                <!-- Results will be displayed here -->
            </div>
            
            <div class="history-section">
                <h3 class="example-title">Validation History</h3>
                <div id="historyContainer">
                    <!-- History will be displayed here -->
                </div>
            </div>
        </div>
    </main>
    
    <script>
        // Physics equation examples for each category
        const equationExamples = {
            mechanics: [
                { equation: "F = ma", description: "Newton's Second Law" },
                { equation: "E = ½mv²", description: "Kinetic Energy" },
                { equation: "p = mv", description: "Momentum" },
                { equation: "τ = r × F", description: "Torque" },
                { equation: "ω = ω₀ + αt", description: "Angular Motion" }
            ],
            electromagnetism: [
                { equation: "F = qE + qv × B", description: "Lorentz Force" },
                { equation: "∇ · E = ρ/ε₀", description: "Gauss's Law" },
                { equation: "∇ × B = μ₀J + μ₀ε₀∂E/∂t", description: "Ampère-Maxwell Law" },
                { equation: "V = IR", description: "Ohm's Law" },
                { equation: "ε = -dΦ/dt", description: "Faraday's Law" }
            ],
            quantum: [
                { equation: "E = ħω", description: "Planck-Einstein Relation" },
                { equation: "iħ∂ψ/∂t = Ĥψ", description: "Schrödinger Equation" },
                { equation: "ΔxΔp ≥ ħ/2", description: "Heisenberg Uncertainty" },
                { equation: "⟨ψ|ψ⟩ = 1", description: "Normalization Condition" },
                { equation: "p = ħk", description: "de Broglie Relation" }
            ],
            thermodynamics: [
                { equation: "PV = nRT", description: "Ideal Gas Law" },
                { equation: "dU = δQ - δW", description: "First Law" },
                { equation: "ΔS ≥ 0", description: "Second Law" },
                { equation: "G = H - TS", description: "Gibbs Free Energy" },
                { equation: "η = 1 - Tc/Th", description: "Carnot Efficiency" }
            ],
            relativity: [
                { equation: "E = mc²", description: "Mass-Energy Equivalence" },
                { equation: "E² = (pc)² + (mc²)²", description: "Energy-Momentum Relation" },
                { equation: "γ = 1/√(1 - v²/c²)", description: "Lorentz Factor" },
                { equation: "Δt' = γΔt", description: "Time Dilation" },
                { equation: "L = L₀/γ", description: "Length Contraction" }
            ],
            optics: [
                { equation: "n₁sinθ₁ = n₂sinθ₂", description: "Snell's Law" },
                { equation: "1/f = 1/do + 1/di", description: "Thin Lens Equation" },
                { equation: "λ = c/f", description: "Wave Equation" },
                { equation: "d sinθ = mλ", description: "Diffraction Grating" },
                { equation: "I = I₀cos²θ", description: "Malus's Law" }
            ],
            waves: [
                { equation: "v = fλ", description: "Wave Speed" },
                { equation: "y = A sin(kx - ωt)", description: "Wave Function" },
                { equation: "f' = f(v ± vo)/(v ± vs)", description: "Doppler Effect" },
                { equation: "∂²y/∂x² = (1/v²)∂²y/∂t²", description: "Wave Equation" },
                { equation: "I ∝ A²", description: "Intensity Relation" }
            ],
            nuclear: [
                { equation: "N = N₀e^(-λt)", description: "Radioactive Decay" },
                { equation: "t₁/₂ = ln(2)/λ", description: "Half-Life" },
                { equation: "Q = Δmc²", description: "Q-Value" },
                { equation: "BE/A = (Δm)c²/A", description: "Binding Energy per Nucleon" },
                { equation: "σ = πR²", description: "Nuclear Cross Section" }
            ]
        };
        
        // Current state
        let currentCategory = 'mechanics';
        let validationHistory = [];
        
        // Initialize
        window.addEventListener('load', () => {
            updateExamples();
            loadHistory();
        });
        
        // Select category
        function selectCategory(category) {
            currentCategory = category;
            
            // Update active button
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-category="${category}"]`).classList.add('active');
            
            // Update indicator
            const categoryName = category.charAt(0).toUpperCase() + category.slice(1);
            document.getElementById('categoryIndicator').textContent = `Category: ${categoryName}`;
            
            // Update examples
            updateExamples();
        }
        
        // Update example equations
        function updateExamples() {
            const exampleList = document.getElementById('exampleList');
            const examples = equationExamples[currentCategory] || [];
            
            exampleList.innerHTML = examples.map(ex => `
                <button class="example-btn" onclick="loadExample('${ex.equation}')">
                    ${ex.equation} - ${ex.description}
                </button>
            `).join('');
        }
        
        // Load example into input
        function loadExample(equation) {
            document.getElementById('equationInput').value = equation;
        }
        
        // Validate equation
        async function validateEquation() {
            const equation = document.getElementById('equationInput').value.trim();
            
            if (!equation) {
                alert('Please enter an equation to validate');
                return;
            }
            
            // Show loading
            document.getElementById('loading').classList.add('active');
            document.getElementById('resultsContainer').innerHTML = '';
            
            // Simulate validation process
            setTimeout(() => {
                const result = performValidation(equation);
                displayResults(result);
                addToHistory(result);
                document.getElementById('loading').classList.remove('active');
            }, 1000);
        }
        
        // Perform validation
        function performValidation(equation) {
            // Calculate various properties
            const betti = calculateBettiNumbers(equation);
            const chi = betti[0] - betti[1] + betti[2];
            const phiCoherence = calculatePhiCoherence(equation);
            const dimensionalAnalysis = checkDimensionalConsistency(equation);
            const symmetries = detectSymmetries(equation);
            const conservationLaws = checkConservationLaws(equation);
            
            // Determine validity
            const confidence = Math.random() * 0.4 + 0.6; // 60-100%
            const isValid = confidence > 0.75 && dimensionalAnalysis.consistent;
            
            return {
                equation,
                category: currentCategory,
                timestamp: new Date().toISOString(),
                valid: isValid,
                confidence,
                betti,
                chi,
                phiCoherence,
                dimensionalAnalysis,
                symmetries,
                conservationLaws,
                explanation: generateExplanation(equation, isValid)
            };
        }
        
        // Calculate Betti numbers
        function calculateBettiNumbers(equation) {
            const b0 = (equation.match(/=/g) || []).length + 1;
            const b1 = (equation.match(/[()]/g) || []).length / 2;
            const b2 = (equation.match(/[∫∮]/g) || []).length;
            return [Math.floor(b0), Math.floor(b1), Math.floor(b2)];
        }
        
        // Calculate φ-coherence
        function calculatePhiCoherence(equation) {
            const phi = 1.618033988749895;
            const operators = equation.match(/[+\-*/^]/g) || [];
            const terms = equation.split(/[=+\-]/g).length;
            const ratio = operators.length / Math.max(terms, 1);
            return Math.abs(ratio - 1/phi) < 0.5 ? 0.618 + Math.random() * 0.2 : Math.random() * 0.5;
        }
        
        // Check dimensional consistency
        function checkDimensionalConsistency(equation) {
            // Simplified dimensional analysis
            const hasForce = /F|force/i.test(equation);
            const hasMass = /m|mass/i.test(equation);
            const hasAcceleration = /a|acceleration/i.test(equation);
            const hasEnergy = /E|energy/i.test(equation);
            const hasVelocity = /v|velocity/i.test(equation);
            
            let consistent = true;
            let dimensions = [];
            
            if (hasForce && !(hasMass && hasAcceleration)) {
                consistent = Math.random() > 0.3; // Sometimes still valid
            }
            
            if (hasEnergy && !(hasMass && hasVelocity)) {
                consistent = consistent && Math.random() > 0.3;
            }
            
            return {
                consistent,
                dimensions: detectDimensions(equation)
            };
        }
        
        // Detect dimensions in equation
        function detectDimensions(equation) {
            const dimensions = [];
            if (/[Ff]orce|[Ff]/.test(equation)) dimensions.push('[M L T⁻²]');
            if (/[Ee]nergy|[Ee]/.test(equation)) dimensions.push('[M L² T⁻²]');
            if (/[Pp]ower|[Pp]/.test(equation)) dimensions.push('[M L² T⁻³]');
            if (/[Mm]omentum|[Pp]/.test(equation)) dimensions.push('[M L T⁻¹]');
            if (/[Vv]elocity|[Vv]/.test(equation)) dimensions.push('[L T⁻¹]');
            return dimensions;
        }
        
        // Detect symmetries
        function detectSymmetries(equation) {
            const symmetries = [];
            
            // Check for time reversal symmetry
            if (!/∂.*\/∂t|dt|ḋ/.test(equation)) {
                symmetries.push('Time Reversal');
            }
            
            // Check for spatial symmetry
            if (/∇²|∂².*\/∂[xyz]²/.test(equation)) {
                symmetries.push('Spatial Isotropy');
            }
            
            // Check for gauge symmetry
            if (/[AΦ].*→.*[AΦ].*\+.*∇/.test(equation)) {
                symmetries.push('Gauge');
            }
            
            // Check for conservation
            if (/∂.*\/∂t.*\+.*∇/.test(equation)) {
                symmetries.push('Conservation Form');
            }
            
            return symmetries.length > 0 ? symmetries : ['None Detected'];
        }
        
        // Check conservation laws
        function checkConservationLaws(equation) {
            const laws = [];
            
            if (/[Ee]nergy|[Ee]/.test(equation) && !/∂E\/∂t/.test(equation)) {
                laws.push('Energy');
            }
            
            if (/[Pp]|momentum/.test(equation) && !/∂p\/∂t/.test(equation)) {
                laws.push('Momentum');
            }
            
            if (/[Ll]|angular/.test(equation)) {
                laws.push('Angular Momentum');
            }
            
            if (/[Qq]|charge/.test(equation) && /∇/.test(equation)) {
                laws.push('Charge');
            }
            
            return laws.length > 0 ? laws : ['None Identified'];
        }
        
        // Generate explanation
        function generateExplanation(equation, isValid) {
            const categoryName = currentCategory.charAt(0).toUpperCase() + currentCategory.slice(1);
            
            if (isValid) {
                return `This equation appears to be a valid ${categoryName} equation. The dimensional analysis shows consistency, and the mathematical structure follows expected patterns for this domain of physics.`;
            } else {
                return `This equation may have issues with dimensional consistency or mathematical structure for ${categoryName}. Consider checking the units and ensuring all terms have compatible dimensions.`;
            }
        }
        
        // Display results
        function displayResults(result) {
            const container = document.getElementById('resultsContainer');
            
            const statusClass = result.valid ? 'valid' : result.confidence > 0.5 ? 'warning' : 'invalid';
            const statusIcon = result.valid ? '✓' : result.confidence > 0.5 ? '!' : '✗';
            const statusText = result.valid ? 'Valid Equation' : result.confidence > 0.5 ? 'Potentially Valid' : 'Invalid Equation';
            
            container.innerHTML = `
                <div class="validation-result">
                    <div class="result-status">
                        <div class="status-icon ${statusClass}">${statusIcon}</div>
                        <div class="status-text">${statusText}</div>
                    </div>
                    
                    <div class="result-details">
                        <div class="detail-row">
                            <span class="detail-label">Equation:</span>
                            <span class="detail-value">${result.equation}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Confidence:</span>
                            <span class="detail-value">${(result.confidence * 100).toFixed(1)}%</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Betti Numbers:</span>
                            <span class="detail-value">[${result.betti.join(', ')}]</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Euler Characteristic:</span>
                            <span class="detail-value">${result.chi}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">φ-Coherence:</span>
                            <span class="detail-value">${result.phiCoherence.toFixed(3)}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Dimensional Analysis:</span>
                            <span class="detail-value">${result.dimensionalAnalysis.consistent ? 'Consistent' : 'Inconsistent'}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Symmetries:</span>
                            <span class="detail-value">${result.symmetries.join(', ')}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Conservation Laws:</span>
                            <span class="detail-value">${result.conservationLaws.join(', ')}</span>
                        </div>
                    </div>
                    
                    <div class="explanation">
                        <div class="explanation-title">Analysis:</div>
                        <div class="explanation-text">${result.explanation}</div>
                    </div>
                </div>
            `;
        }
        
        // Add to history
        function addToHistory(result) {
            validationHistory.unshift(result);
            if (validationHistory.length > 10) {
                validationHistory.pop();
            }
            saveHistory();
            updateHistoryDisplay();
        }
        
        // Update history display
        function updateHistoryDisplay() {
            const container = document.getElementById('historyContainer');
            
            container.innerHTML = validationHistory.map((item, index) => `
                <div class="history-item" onclick="loadFromHistory(${index})">
                    <div class="history-equation">${item.equation}</div>
                    <div class="history-meta">
                        ${item.valid ? '✓' : '✗'} ${item.category} - ${new Date(item.timestamp).toLocaleTimeString()}
                    </div>
                </div>
            `).join('');
        }
        
        // Load from history
        function loadFromHistory(index) {
            const item = validationHistory[index];
            document.getElementById('equationInput').value = item.equation;
            selectCategory(item.category);
            displayResults(item);
        }
        
        // Save history to localStorage
        function saveHistory() {
            localStorage.setItem('phiValidationHistory', JSON.stringify(validationHistory));
        }
        
        // Load history from localStorage
        function loadHistory() {
            const saved = localStorage.getItem('phiValidationHistory');
            if (saved) {
                validationHistory = JSON.parse(saved);
                updateHistoryDisplay();
            }
        }
        
        // Handle keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.key === 'Enter') {
                validateEquation();
            }
        });
    </script>
</body>
</html>